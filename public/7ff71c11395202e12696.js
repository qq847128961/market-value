(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{675:function(t,e,o){var content=o(686);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(47).default)("2e7384a5",content,!0,{sourceMap:!1})},676:function(t,e,o){var content=o(688);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(47).default)("18ecd974",content,!0,{sourceMap:!1})},685:function(t,e,o){"use strict";var n=o(675);o.n(n).a},686:function(t,e,o){(e=o(46)(!1)).push([t.i,".base-charts{margin-left:auto;margin-right:auto;float:left}",""]),t.exports=e},687:function(t,e,o){"use strict";var n=o(676);o.n(n).a},688:function(t,e,o){(e=o(46)(!1)).push([t.i,".page-company-detail{padding:30px 0 150px}.page-company-detail .detail{width:1200px;margin:0 auto}.page-company-detail .detail-bar{display:flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;padding:0 40px 20px}.page-company-detail .detail-bar-item{font-size:12px;padding:3px 15px;color:#333;border:1px solid #e0e0e0;border-radius:3px;margin-right:10px}.page-company-detail .detail-body{display:flex}.page-company-detail .detail-body-echarts{flex:1;padding:20px 0 40px;background-color:#fff}.page-company-detail .detail-body .stock{width:240px;margin-left:20px;background-color:#fff;padding:10px}.page-company-detail .detail-body .stock-head{border-bottom:1px solid #e0e0e0;padding-bottom:10px;margin-bottom:10px}.page-company-detail .detail-body .stock-title{font-size:16px}.page-company-detail .detail-body .stock-code{margin:0 5px;color:#3a6ae0}.page-company-detail .detail-body .stock-price{font-size:16px;display:flex;line-height:16px}.page-company-detail .detail-body .stock-price-money{font-size:24px;margin-right:5px}.page-company-detail .detail-body .stock-price-up{color:#fd5451}.page-company-detail .detail-body .stock-price-down{color:#0dd78d}.page-company-detail .detail-body .stock-price .mv-icon{margin:0 10px}.page-company-detail .detail-body .stock-price .mv-icon-stock-up{color:#fd5451}.page-company-detail .detail-body .stock-price .mv-icon-stock-down{color:#0dd78d}.page-company-detail .detail-body .stock-time{color:#666;margin-top:10px}.page-company-detail .detail .valuation{margin-top:20px;padding:10px;min-height:200px;background-color:#fff}.page-company-detail .detail .valuation-title{font-size:16px}.page-company-detail .detail .valuation .el-form{margin-top:20px;display:flex;justify-content:center}.page-company-detail .detail .valuation-price{padding-left:240px}.page-company-detail .detail-content{margin-top:20px;padding:10px 10px 50px;background-color:#fff;border-radius:5px}.page-company-detail .detail-content .number{color:#666;font-size:12px}.page-company-detail .detail-content .number-base{color:#999}.page-company-detail .detail-content .number-just{color:#dc3023}.page-company-detail .detail-content .number-loss{color:#057748}",""]),t.exports=e},691:function(t,e,o){"use strict";o.r(e);o(201),o(202),o(32),o(67),o(149);var n=o(111),r=(o(86),o(21)),l=o(19),c=o.n(l),d={props:{name:{type:String,default:"base"},option:{type:Object,default:null},width:{type:String,default:"100px"},height:{type:String,default:"200px"},mapJson:{type:Object,default:null}},watch:{option:function(t){this.chart.setOption(t)}},data:function(){return{mapStyle:{width:this.width,height:this.height},chart:null}},mounted:function(){var t=this;this.$nextTick((function(){t.echartsInit()}))},methods:{echartsInit:function(){this.chart=this.$echarts.init(this.$refs[this.name]),this.chart.setOption(this.option)}}},m=(o(685),o(33)),f={asyncData:function(t){var e=t.app,o=t.params;return Object(r.a)(regeneratorRuntime.mark((function t(){var code,r,l,data,d,m,f,v,y,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return code=c.a.get(o,"code"),t.next=3,e.$http.all([e.$http.get("/company/netease",{code:code}),e.$http.get("/company/get",{code:code})]);case 3:if(r=t.sent,l=Object(n.a)(r,2),data=l[0],!(d=l[1])){t.next=16;break}return m=/12-31/i,f=[],v=[],y=c.a.filter(c.a.get(data,"data.list"),(function(t){var e=c.a.get(t,"date");return m.test(e)&&(f.push(e.substring(0,4)),v.push(c.a.get(t,"roe"))),m.test(e)})),h=c.a.cloneDeep(v),f=c.a.reverse(f),v=c.a.reverse(v),t.abrupt("return",{data:data.data,stock:c.a.get(data,"data.quotation.".concat(code)),yearData:y,yearList:f,roeList:v,roeAvg:c.a.ceil(c.a.mean(c.a.slice(h,0,4)),2),roe:{title:{text:"",textStyle:{color:"#fff",fontSize:14}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["ROE%"],textStyle:{color:"#3A6AE0"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:f,splitLine:{show:!1,lineStyle:{color:["#ffffff1f"]}},axisLine:{show:!0,onZero:!1,lineStyle:{color:["#e0e0e0"]}},axisLabel:{color:"#3A6AE0"}}],yAxis:[{type:"value",axisLabel:{color:"#0068ff"},splitLine:{show:!0,lineStyle:{color:["#e0e0e0"]}},axisLine:{show:!0,lineStyle:{color:["#e0e0e0"]}}}],series:[{name:"ROE%",type:"line",stack:"总量",areaStyle:{normal:{}},itemStyle:{normal:{color:"#c0ebd7",lineStyle:{color:"#177cb0"}}},data:v}]},company:c.a.get(d,"data")});case 16:case"end":return t.stop()}}),t)})))()},components:{CEcharts:Object(m.a)(d,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"echarts",attrs:{id:"echarts"}},[e("div",{ref:this.name,staticClass:"base-charts base-charts",style:this.mapStyle})])}),[],!1,null,null,null).exports},data:function(){return{data:null,valuation:{minPe:12,maxPe:40},count:100,currentPage:1}},methods:{getPrice:function(){var nav=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return c.a.ceil(nav*t*e,2)},onSetPe:function(){},diffRATIO:function(t){var e=c.a.ceil(this.diffPrice(t)/c.a.get(t,"close"),2);return e=c.a.ceil(100*e,2),"".concat(this.diffPrice(t)>0?"+":"").concat(e,"%")},diffPrice:function(t){return c.a.ceil(c.a.get(t,"now")-c.a.get(t,"close"),2)},getNumberColor:function(t){if(!t||"--"===t)return"base";var e=t;c.a.isString(t)&&(e=t.replace(",",""));var o=c.a.toNumber(e);return o>0?"just":o<0?"loss":"base"},onSee:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.$msg("查看企业".concat(t.name))},getDate:function(t){if(!t)return"--";var e=c.a.toString(t);console.log("dateStr",e);var o=e.substring(0,4),n=(e.substring(3,5),e.substring(5,7));return"".concat(o,"-").concat(n,"-").concat(n)},getList:function(t,e){var o=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.$http.get("/company/list",{index:t,pageSize:e});case 2:(data=n.sent)&&(o.data=data);case 4:case"end":return n.stop()}}),n)})))()}}},v=(o(687),Object(m.a)(f,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"page-company-detail"},[o("div",{staticClass:"detail"},[o("div",{staticClass:"detail-body"},[o("div",{staticClass:"detail-body-echarts"},[t._m(0),o("c-echarts",{attrs:{option:t.roe,height:"300px",width:"100%"}})],1),o("div",{staticClass:"stock"},[o("div",{staticClass:"stock-head"},[o("div",{staticClass:"stock-title"},[t._v(t._s(t.data.name)),o("span",{staticClass:"stock-code"},[t._v("["+t._s(t.data.code)+"]")]),o("span",[t._v("股票信息")])])]),o("div",{staticClass:"stock-price"},[o("span",{staticClass:"stock-price-money",class:{"stock-price-up":t.diffPrice(t.stock)>0,"stock-price-down":t.diffPrice(t.stock)<0}},[t._v(t._s(t.stock.now))]),o("span",[t._v("元")]),o("div",{staticClass:"mv-icon",class:{"mv-icon-stock-up":t.diffPrice(t.stock)>0,"mv-icon-stock-down":t.diffPrice(t.stock)<0}}),o("span",{class:{"stock-price-up":t.diffPrice(t.stock)>0,"stock-price-down":t.diffPrice(t.stock)<0}},[t._v(t._s(t.diffPrice(t.stock)))])]),o("div",{staticClass:"stock-time"},[t._v(t._s(t.stock.date)+" "+t._s(t.stock.time))])])]),o("div",{staticClass:"valuation"},[o("div",{staticClass:"valuation-title"},[t._v("估值计算"),o("el-form",{attrs:{inline:!0,model:t.valuation}},[o("el-form-item",{attrs:{label:"买进市盈率："}},[o("el-input",{attrs:{type:"number",placeholder:"买进市盈率"},model:{value:t.valuation.minPe,callback:function(e){t.$set(t.valuation,"minPe",e)},expression:"valuation.minPe"}})],1),o("el-form-item",{attrs:{label:"卖出市盈率："}},[o("el-input",{attrs:{type:"number",placeholder:"卖出市盈率"},model:{value:t.valuation.maxPe,callback:function(e){t.$set(t.valuation,"maxPe",e)},expression:"valuation.maxPe"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSetPe()}}},[t._v("设定")])],1)],1),o("div",{staticClass:"valuation-price"},[t._v("买进价：NAV("+t._s(t.company.bvps)+") X 5年平均ROE%("+t._s(t.roeAvg)+"%) X 买进市盈率("+t._s(t.valuation.minPe)+") = "+t._s(t.getPrice(t.company.bvps,t.roeAvg/100,t.valuation.minPe)))]),o("div",{staticClass:"valuation-price"},[t._v("卖出价：NAV("+t._s(t.company.bvps)+") X 5年平均ROE%("+t._s(t.roeAvg)+"%) X 卖出市盈率("+t._s(t.valuation.maxPe)+") = "+t._s(t.getPrice(t.company.bvps,t.roeAvg/100,t.valuation.maxPe)))])],1)]),o("div",{staticClass:"detail-content"},[o("el-table",{staticClass:"detail-table",staticStyle:{width:"100%"},attrs:{data:t.data.list,stripe:!0,height:"400"}},[o("el-table-column",{attrs:{prop:"date",label:"时间",width:"100"}}),o("el-table-column",{attrs:{prop:"surplusRerate",align:"center",label:"盈余(万元)"}}),o("el-table-column",{attrs:{prop:"fixedAssets",align:"center",label:"固定资产(万元)"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{staticClass:"number",class:"number-"+t.getNumberColor(e.row.fixedAssets)},[t._v(t._s(e.row.fixedAssets))])}}])}),o("el-table-column",{attrs:{prop:"longInvest",align:"center",label:"长期投资(万元)"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{staticClass:"number",class:"number-"+t.getNumberColor(e.row.longInvest)},[t._v(t._s(e.row.longInvest))])}}])}),o("el-table-column",{attrs:{prop:"netprofit",align:"center",label:"净利润(万元)"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{staticClass:"number",class:"number-"+t.getNumberColor(e.row.netprofit)},[t._v(t._s(e.row.netprofit))])}}])}),o("el-table-column",{attrs:{prop:"stockHolderEquity",align:"center",label:"股东权益(万元)"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{staticClass:"number",class:"number-"+t.getNumberColor(e.row.stockHolderEquity)},[t._v(t._s(e.row.stockHolderEquity))])}}])}),o("el-table-column",{attrs:{prop:"totals",align:"center",label:"总资产(万元)"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{staticClass:"number",class:"number-"+t.getNumberColor(e.row.totals)},[t._v(t._s(e.row.totals))])}}])}),o("el-table-column",{attrs:{prop:"roe",align:"center",label:"roe%"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{staticClass:"number",class:"number-"+t.getNumberColor(e.row.roe)},[t._v(t._s(e.row.roe))])}}])}),o("el-table-column",{attrs:{prop:"fourYearSurplus",align:"center",label:"4年盈再率%"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{staticClass:"number",class:"number-"+t.getNumberColor(e.row.fourYearSurplus)},[t._v(t._s(e.row.fourYearSurplus))])}}])})],1)],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"detail-bar"},[e("div",{staticClass:"detail-bar-item"},[this._v("净资产收益率")]),e("div",{staticClass:"detail-bar-item"},[this._v("盈余再投资率")])])}],!1,null,null,null));e.default=v.exports}}]);